## 운영체제 구조
---
## 응용프로그램, 운영체제, 컴퓨터 하드웨어(시스템 리소스) 관계
### 도서관으로 비유
* 운영체제는 도서관
* 응용프로그램을 시민
* 컴퓨터 하드웨어는 책
* 운영체제의 역할
    + 시민은 도서관에 원하는 책(자원)을 요청함
    + 도서관은 적절한 자원(자원)을 찾아서 시민에게 빌려준다.
    + 시민이 기한이 다 되면 도서관이 해당 책(쟈원)을 회수한다.
    + 도서관 없이 책(자원)을 요청하는 방법은 없음

---
## 응용프로그램, 운영체제, 컴퓨터하드웨어 관계
* 운영체제는 응용프로그램이 요청하는 메모리를 허가하고 분배한다.
* 운영체제는 응용프로그램이 요청하는 CPU 시간을 제공한다.
* 운영체제는 응용프로그래밍이 요청하는 IO Devices 사용을 허가/제어한다.

---
## 사용자, 응용프로그램, 운영체제, 컴퓨터 하드웨어와의 관계
> 사용자 <-> 응용프로그램 <-> 운영체제 <-> 하드웨어

---
## 운영체제는 사용자 인터페이스 제공
* 쉘(Shell)
    + 사용자가 운영체제 기능과 서비스를 조작할 수 있도록 인터페이스를 제공하는 프로그램
    + 쉘은 터미널 환경(CLI), GUL 환경 두 종류로 분류 된다.
    > 사용자 <-> 응용프로그램, 쉘 <-> 운영체제 <-> 하드웨어

    ||| ||
    |:---:|:---:|:---:|:---:|
    ||User||
    |Apllication|||Shell|
    ||Operating System||
    ||Hardware||
    |CPU|Memory|Storyge|Network|
    
---
## 운영체제는 응용프로그램을 위해서도 인터페이스를 제공
* API(Application Programming Interface)
    + 응용프로그램 안에 프로그래밍 언어를 통해서 운영체제에 어떤 것을 요청할 수 있기 때문에 API를 위한 인터페이스를 제공해준다.
    + 함수로 제공한다.
    + open() -> API의 일종

    ||| ||
    |:---:|:---:|:---:|:---:|
    ||User||
    |Apllication|||Shell|
    ||API||
    ||Operating System||
    ||Hardware||
    |CPU|Memory|Storyge|Network|

    + 요청서의 집합같은 느낌이다.
        - 요청서가 없으면 운영체제에 어떠한 일을 해달라고 할 수 없다.
        - API는 도서관의 신청서

* 보통은 라이브러리(library) 형태로 제공
    + C library

### 시스템 콜
* 시스템 콜 또는 시스템 호출 인터페이스
* 운영체제가 운영체제 각 기능을 사용할 수 있도록 시스템 콜이라는 명령 또는 함수를 제공
* API 내부에는 시스템 콜을 호출하는 형태로 만들어지는 경우가 대부분이다.

    ||| ||
    |:---:|:---:|:---:|:---:|
    ||User||
    |Apllication|||Shell|
    ||Library or API||
    ||System Call||
    ||Operating System||
    ||Hardware||
    |CPU|Memory|Storyge|Network|

---

## 운영체제를 만든다면?
1. 운영체제를 개발한다. (kernel)
2. 시스템 콜을 개발
3. C언어를 위한 shell 프로그램을 만들 것이라면 C API (library)를 개발
4. Shell 프로그램을 개발
5. 응용프로그램 개발

---
## 운영체제와 시스템콜
* 시스템콜 정의 예)
    + POSIX API (UNIX 계열), 윈도우 API
> API: 각 언어별 운영체제 기능 호출 인터페이스 함수(각 언어별 인터페이스)

> 시스템콜 : 운영체제 기능을 호출하는 함수

---
## 정리
* 운영체제는 컴퓨터 하드웨어와 응용프로그램을 관리한다.
* 사용자 인터페이스를 제공하기 위해 쉘 프로크램을 제공한다.
* 응용프로그램이 운영체제 기능을 요청하기 위해서, 운영체제는 시스템 콜을 제공한다.
    + 보통 시스템 콜을 직접 사용하기 보다는, 해당 시스템 콜을 사용해서 만든 각 언어별 라이브러리 (API)를 사용한다.