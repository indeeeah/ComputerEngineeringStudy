## 쉘 사용법 정리 - 리눅스 프로세스
---
## foreground process 제어하기
* `Ctrl + z` : foreground 프로세스를 실행 중지 상태(suspend 모드)로 변경
    + 맨 마지막 Ctrl + z로 중지된 프로세스는 bg 명령으로 background 프로세스로 실행될 수 있음
* `jobs` : 백그라운드로 진행 또는 중지된 상태로 있는 프로세스를 보여줌
* `bg` : 바로 직전 stopped됐던 프로세스를 background로 실행함
    + `bg [번호]` 로 해당 번호의 프로세스를 background로 실행할 수 있음
```
# find / -name '*.txt'
^z
[1]- Stopped        find / -name '*.txt'
# find / -name '*.py'
^z
[2]- Stopped        find / -name '*.py'
# jobs
[1]- Stopped        find / -name '*.txt'
[2]+ Stopped        find / -name '*.py'
# bg
[2]+ find / -name '*.py' &
```
* `Ctrl + c` : 프로세스 작업 취소 (해당 프로세스는 완전히 종료된다.)
    + 운영체제 소프트웨어 인터럽트가 해당 프로세스에 보내짐
        - 그래서 프로세스 제어가 가능함
        - 시그널이라는 IPC 기법 중 하나 프로세스가 만들어 질 때 디폴트 시그널에 대한 동작들이 정의한 코드가 운영체제 단에서 자동으로 붙여지게 되는데 그 디폴트 동작이 실행이되어서 Ctrl + c 같은 프로세스가 끝나게 된다.(Ctrl + z도 마찬가지)
* `-ps` : 프로세스 확인
    + 사용법 : `ps [option(s)]`
    + option(s)
        ```
        -a : 시스템을 사용하는 모든 사용자의 프로세스 출력
            (보통 aux와 같이 u, x 옵션과 함께 사용, 예: ps aux)
        -u : 프로세스 소유자에 대한 상세 정보 출력
        -l : 프로세스 관련 상세 정보 출력
        -x : 터미널에 로그인한 후 실행한 프로세스가 아닌 프로세스들도 출력함.
            주로 데몬 프로세스(demon process)까지 확인하기 위해 사용.
            본래 ps 명령은 현재 쉘(shell)에서 실행한 프로세스들만 보여주기 때문에 이 옵션을 사용하는 경우가 많음
        -e : 해당 프로세스와 관련된 환경 변수 정보도 함꼐 출력
        -f : 프로세스간 관계 정보도 출력
        ```
    + 데몬 프로세스(deamon process) : daemon은 악마를 의미. 사용자 모르게 시스템 관리를 위해 실행되는 프로세스로 보통 시스템이 부팅될 떄 자동 실행 (예 : ftpd, inetd 등)
    + 주요 ps 출력 정보 항목
        ```
        USER : 프로세스를 실행시킨 사용자 ID
        PID : 프로세스 ID
        %CPU : 마지막 1분 동안 프로세스가 사용한 CPU시간의 백분율
        %MEM : 마지막 1분 동안 프로세스가 사용한 메모리 백분율
        VSZ : 프로세스가 사용하는 가상 메모리 크기
        RSS : 프로세스에서 사용하는 실제 메모리 크기
        TTY : 어떠한 터미널과 연결이 되어있는가 (하드웨어 리소스)
        STAT : 프로세스 상태
        START : 프로세스가 시작된 시간
        TIME : 현재까지 사용된 CPU 시간 (분:초)
        COMMAND : 명령어
        ```
* `kill` : 프로세스 중지시키기
    + `kill % [작업 번호]`
    + `kill [프로세스 ID]`
    + 작업 강제 종료 옵션 `-9`
        ```
        # find / -name '*.py' > list.txt &
        [1] 57
        # kill -9 57
        ```